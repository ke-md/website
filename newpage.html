<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 8 Modern Lightbox Gallery Designs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;600&family=Montserrat:wght@500;700&family=Poppins:wght@500;600&family=Roboto:wght@700&display=swap" rel="stylesheet">
    <style>
        /* Developer Comment: General body styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }

        /* --- General Lightbox Styles --- */
        /* Developer Comment: Base styles for all lightbox backdrops. Handles positioning, visibility, and transitions. */
        .lightbox-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .lightbox-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        /* Developer Comment: Styling for the close button, consistent across all lightboxes. */
        .lightbox-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 9999px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            z-index: 60; /* Higher than content */
        }

        .lightbox-close:hover {
            background-color: rgba(0, 0, 0, 0.6);
            transform: scale(1.1);
        }
        
        /* Developer Comment: Styling for navigation arrows, consistent across all lightboxes. */
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 9999px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            z-index: 60; /* Higher than content */
        }

        .lightbox-nav:hover {
            background-color: rgba(0, 0, 0, 0.6);
            transform: scale(1.1);
        }
        
        /* Developer Comment: Hover effect for gallery thumbnail images. */
        .gallery-item img {
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            cursor: pointer;
        }
        
        .gallery-item:hover img {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.1);
        }

        /* Developer Comment: Ensures that in a staggered/masonry layout, all items align to the top of their grid cell. */
        .gallery-grid {
            align-items: start; 
        }

        /* --- 1. Cinematic Fade --- */
        #cinematic-backdrop {
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
        }
        #cinematic-content {
            position: relative;
            transform: scale(0.95);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.3s ease;
            max-width: 90vw;
            max-height: 90vh;
        }
        #cinematic-backdrop.active #cinematic-content {
            transform: scale(1);
        }
        #cinematic-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            padding: 3rem 1.5rem 1.5rem;
            transform: translateY(100%);
            transition: transform 0.4s ease 0.2s;
        }
        #cinematic-backdrop.active #cinematic-caption {
            transform: translateY(0);
        }

        /* --- 2. Minimalist Slide-In --- */
        #minimalist-backdrop {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
        }
        #minimalist-image-container {
             box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
        }
        #minimalist-image-container.animate-in {
            animation: slideInFromRight 0.5s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
        }
        #minimalist-caption.animate-in {
            animation: fadeIn 0.4s ease 0.2s forwards;
        }
        @keyframes slideInFromRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        #minimalist-close { background-color: rgba(255, 255, 255, 0.7); }
        #minimalist-title { font-family: 'Poppins', sans-serif; }
        #minimalist-caption { background: linear-gradient(to top, rgba(255, 255, 255, 0.8), transparent); }

        /* --- 3. Interactive Grid --- */
        #interactive-grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; perspective: 1000px; align-items: start; }
        .interactive-item { position: relative; overflow: hidden; border-radius: 0.5rem; transition: transform 0.5s ease, z-index 0.5s ease, filter 0.5s ease; z-index: 1; cursor: pointer; }
        .interactive-item img { width: 100%; height: 100%; object-fit: cover; }
        .interactive-item.active { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(2.5) !important; max-width: 90vw; max-height: 90vh; width: auto; height: auto; z-index: 100; box-shadow: 0 0 0 100vmax rgba(0,0,0,0.7); filter: brightness(1) !important; cursor: default; }
        #interactive-grid-container.active .interactive-item:not(.active) { transform: scale(0.9); filter: blur(5px) brightness(0.7); }
        .interactive-caption { position: absolute; bottom: 0; left: 0; width: 100%; padding: 1.5rem; color: white; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); text-align: center; opacity: 0; transform: translateY(100%); transition: opacity 0.3s ease, transform 0.3s ease; }
        .interactive-item.active .interactive-caption { opacity: 1; transform: translateY(0); transition-delay: 0.3s; }
        .interactive-caption h3 { font-family: 'Montserrat', sans-serif; }
        .interactive-close { position: absolute; top: 1rem; right: 1rem; width: 2.5rem; height: 2.5rem; background-color: rgba(0, 0, 0, 0.4); color: white; border-radius: 9999px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 110; opacity: 0; visibility: hidden; transition: opacity 0.3s ease 0.3s, visibility 0.3s ease 0.3s, transform 0.2s ease; }
        .interactive-item.active .interactive-close { opacity: 1; visibility: visible; }
        .interactive-close:hover { transform: scale(1.1); background-color: rgba(0,0,0,0.7); }

        /* --- 4. Split Screen --- */
        #split-backdrop { background-color: #1a1a1a; }
        #split-content { display: flex; flex-direction: row; width: 90vw; height: 90vh; max-width: 1400px; background-color: #262626; border-radius: 0.5rem; overflow: hidden; opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; }
        #split-backdrop.active #split-content { opacity: 1; transform: translateY(0); }
        .split-image-panel { flex: 3; background-color: #111; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .split-info-panel { flex: 2; padding: 2.5rem; color: #e5e5e5; overflow-y: auto; }
        #split-description, .split-info-panel ul { font-family: 'Lora', serif; }
        @media (max-width: 1024px) { #split-content { flex-direction: column; } .split-image-panel, .split-info-panel { flex: 1; } }

        /* --- 5. Full Screen Immersive --- */
        #immersive-backdrop { background-color: #000; }
        #immersive-content { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
        #immersive-image { max-width: 100%; max-height: 100%; transform: scale(0.8); opacity: 0; transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1), opacity 0.5s ease; }
        #immersive-backdrop.active #immersive-image { transform: scale(1); opacity: 1; }
        #immersive-ui { opacity: 0; transition: opacity 0.3s ease; }
        #immersive-backdrop:hover #immersive-ui, #immersive-backdrop.touch-active #immersive-ui { opacity: 1; }
        #immersive-title { font-family: 'Roboto', sans-serif; letter-spacing: 0.05em; }

        /* --- 6. 3D Card Flip --- */
        #card-flip-gallery { perspective: 1500px; }
        .card-flip-item .flip-inner { transition: transform 0.6s; transform-style: preserve-3d; }
        .card-flip-item:hover .flip-inner { transform: rotateY(15deg); }
        #card-flip-backdrop { background-color: rgba(20, 20, 30, 0.9); backdrop-filter: blur(5px); perspective: 2000px; }
        #card-flip-content.animate-in { animation: cardFlipIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes cardFlipIn { from { transform: rotateY(-180deg) scale(0.7); } to { transform: rotateY(0) scale(1); } }
        #card-flip-content img { transition: opacity 0.3s ease; }
        #card-flip-caption { position: absolute; bottom: 1rem; left: 1rem; right: 1rem; text-align: center; color: white; background: rgba(0,0,0,0.5); padding: 0.5rem; border-radius: 0.25rem; opacity: 0; transition: opacity 0.4s ease 0.3s; }
        #card-flip-backdrop.active #card-flip-caption { opacity: 1; }

        /* --- 7. Staggered Slice & Reveal --- */
        #slice-reveal-backdrop { background-color: #111; }
        #slice-reveal-content { display: flex; width: 90vw; height: 90vh; max-width: 1200px; overflow: hidden; position: relative; }
        .slice { flex: 1; background-size: cover; background-repeat: no-repeat; }
        #slice-reveal-content.animate-in .slice { animation: sliceIn 0.8s cubic-bezier(0.86, 0, 0.07, 1) forwards; }
        @keyframes sliceIn { from { transform: translateY(100%); } to { transform: translateY(0); } }
        #slice-reveal-content.animate-in .slice:nth-child(1) { animation-delay: 0s; }
        #slice-reveal-content.animate-in .slice:nth-child(2) { animation-delay: 0.05s; }
        #slice-reveal-content.animate-in .slice:nth-child(3) { animation-delay: 0.1s; }
        #slice-reveal-content.animate-in .slice:nth-child(4) { animation-delay: 0.15s; }
        #slice-reveal-content.animate-in .slice:nth-child(5) { animation-delay: 0.2s; }
        #slice-reveal-content.animate-in .slice:nth-child(6) { animation-delay: 0.25s; }
        #slice-reveal-title { position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); color: white; font-size: 2rem; font-weight: bold; text-shadow: 0 2px 10px #000; opacity: 0; transition: opacity 0.5s ease 0.5s; }
        #slice-reveal-backdrop.active #slice-reveal-title { opacity: 1; }

        /* --- 8. Fading Blur/Scale --- */
        #blur-scale-backdrop { background-color: rgba(255, 255, 255, 0.5); backdrop-filter: blur(10px) saturate(1.5); }
        #blur-scale-content { position: relative; }
        #blur-scale-content img { border-radius: 1rem; box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        #blur-scale-content.animate-in img { animation: blurScaleIn 0.5s ease-out forwards; }
        @keyframes blurScaleIn { from { filter: blur(20px); transform: scale(0.8); opacity: 0; } to { filter: blur(0); transform: scale(1); opacity: 1; } }
        #blur-scale-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            padding: 3rem 1.5rem 1.5rem;
            transform: translateY(100%);
            transition: transform 0.4s ease 0.2s, opacity 0.5s ease 0.2s;
            opacity: 0;
        }
        #blur-scale-backdrop.active #blur-scale-caption {
            transform: translateY(0);
            opacity: 1;
        }
        #blur-scale-title {
            font-size: 1.25rem;
            font-weight: bold;
        }
        #blur-scale-description {
            font-size: 0.875rem;
            opacity: 0.8;
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold text-gray-900">Modern Lightbox Galleries</h1>
            <p class="text-lg text-gray-600">8 unique designs for showcasing images.</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">
        
        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">1. Cinematic Fade & Zoom</h2><p class="text-gray-500">A dramatic entrance. The background blurs as the image fades in with a subtle zoom. Captions slide up for context.</p></div>
            <div id="cinematic-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>

        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">2. Minimalist Slide-In</h2><p class="text-gray-500">Clean and elegant. The image smoothly slides in from the side over a blurred background for a modern, app-like feel.</p></div>
            <div id="minimalist-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>
        
        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">3. Interactive Grid</h2><p class="text-gray-500">Maintains context by expanding the image in place, pushing other items away. Click an image to see it in action.</p></div>
            <div id="interactive-grid-container"></div>
        </section>
        
        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">4. Split-Screen Panel</h2><p class="text-gray-500">Perfect for portfolios or product showcases. Displays the image alongside detailed information.</p></div>
            <div id="split-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>
        
        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">5. Full-Screen Immersive</h2><p class="text-gray-500">Maximizes focus on the image. The UI fades away, creating an distraction-free, cinematic viewing experience.</p></div>
            <div id="immersive-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>

        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">6. 3D Card Flip</h2><p class="text-gray-500">A playful 3D effect. The image flips over like a card to reveal the lightbox.</p></div>
            <div id="card-flip-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>

        <section class="mb-16">
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">7. Staggered Slice & Reveal</h2><p class="text-gray-500">A dynamic entrance where the image is revealed in vertical animated slices.</p></div>
            <div id="slice-reveal-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>

        <section>
            <div class="mb-6"><h2 class="text-2xl font-semibold mb-1">8. Fading Blur & Scale</h2><p class="text-gray-500">A soft and elegant reveal, where the image fades in from a blurred and scaled-down state.</p></div>
            <div id="blur-scale-gallery" class="gallery-grid grid grid-cols-2 md:grid-cols-5 gap-4"></div>
        </section>

    </main>
    
    <!-- Lightbox Structures -->

    <div id="cinematic-backdrop" class="lightbox-backdrop">
        <div id="cinematic-content" class="relative overflow-hidden rounded-lg"><img id="cinematic-image" src="" alt="Cinematic View" class="block max-w-full max-h-full object-contain"><div id="cinematic-caption" class="text-white"><h3 id="cinematic-title" class="text-xl font-bold"></h3><p id="cinematic-description" class="text-sm opacity-80"></p></div></div>
        <div id="cinematic-close" class="lightbox-close"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="cinematic-prev" class="lightbox-nav left-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="cinematic-next" class="lightbox-nav right-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>

    <div id="minimalist-backdrop" class="lightbox-backdrop">
        <div id="minimalist-image-container" class="relative overflow-hidden rounded-lg"><img id="minimalist-image" src="" alt="Minimalist View" class="block object-contain max-w-[90vw] max-h-[90vh]"><div id="minimalist-caption" class="absolute bottom-0 left-0 w-full p-6 text-gray-800"><h3 id="minimalist-title" class="text-xl font-semibold"></h3></div></div>
        <div id="minimalist-close" class="lightbox-close top-4 right-4 text-gray-800"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="minimalist-prev" class="lightbox-nav left-4 text-gray-800 bg-white/70"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="minimalist-next" class="lightbox-nav right-4 text-gray-800 bg-white/70"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>
    
    <div id="split-backdrop" class="lightbox-backdrop p-4 md:p-8">
        <div id="split-content"><div class="split-image-panel"><img id="split-image" src="" alt="Split Screen View" class="w-full h-full object-contain p-2"></div><div class="split-info-panel"><h3 id="split-title" class="text-3xl font-bold mb-4"></h3><p id="split-description" class="text-base mb-6 leading-relaxed"></p><div class="border-t border-gray-600 pt-6"><h4 class="text-lg font-semibold mb-3">Details</h4><ul class="text-sm space-y-2"><li><strong>Photographer:</strong> <span id="split-author"></span></li><li><strong>Location:</strong> <span id="split-location"></span></li><li><strong>Date:</strong> <span id="split-date"></span></li></ul></div></div></div>
        <div id="split-close" class="lightbox-close"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="split-prev" class="lightbox-nav left-8"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="split-next" class="lightbox-nav right-8"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>

    <div id="immersive-backdrop" class="lightbox-backdrop">
        <div id="immersive-content"><img id="immersive-image" src="" alt="Immersive View" class="object-contain"></div>
        <div id="immersive-ui"><div id="immersive-caption" class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white text-center"><h3 id="immersive-title" class="text-lg font-bold"></h3></div><div id="immersive-close" class="lightbox-close"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div><div id="immersive-prev" class="lightbox-nav left-8"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div><div id="immersive-next" class="lightbox-nav right-8"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></div>
    </div>
    
    <div id="card-flip-backdrop" class="lightbox-backdrop">
        <div id="card-flip-content" class="relative">
            <img id="card-flip-image" src="" alt="Card Flip View" class="block object-contain max-w-[90vw] max-h-[90vh] rounded-lg shadow-2xl">
            <div id="card-flip-caption"><h3 id="card-flip-title"></h3></div>
        </div>
        <div id="card-flip-close" class="lightbox-close"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="card-flip-prev" class="lightbox-nav left-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="card-flip-next" class="lightbox-nav right-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>

    <div id="slice-reveal-backdrop" class="lightbox-backdrop">
        <div id="slice-reveal-content"></div>
        <h3 id="slice-reveal-title"></h3>
        <div id="slice-reveal-close" class="lightbox-close"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="slice-reveal-prev" class="lightbox-nav left-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="slice-reveal-next" class="lightbox-nav right-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>
    
    <div id="blur-scale-backdrop" class="lightbox-backdrop">
        <div id="blur-scale-content" class="relative overflow-hidden rounded-lg">
            <img id="blur-scale-image" src="" alt="Blur Scale View" class="block object-contain max-w-full max-h-full">
            <div id="blur-scale-caption" class="text-white">
                <h3 id="blur-scale-title" class="text-xl font-bold"></h3>
                <p id="blur-scale-description" class="text-sm opacity-80"></p>
            </div>
        </div>
        <div id="blur-scale-close" class="lightbox-close"><svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div>
        <div id="blur-scale-prev" class="lightbox-nav left-4"><svg class="w-8 h-8 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></div>
        <div id="blur-scale-next" class="lightbox-nav right-4"><svg class="w-8 h-8 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const imageData = [
                { id: 1, src: 'https://picsum.photos/seed/mountain/600/900', title: 'Mountain Vista', description: 'A stunning view of snow-capped mountains under a clear blue sky.', author: 'Jane Doe', location: 'Alps, Switzerland', date: '2023-08-15' },
                { id: 2, src: 'https://picsum.photos/seed/lake/900/600', title: 'Serene Lake', description: 'A calm lake reflecting the surrounding forest and mountains.', author: 'John Smith', location: 'Lake Louise, Canada', date: '2023-07-22' },
                { id: 3, src: 'https://picsum.photos/seed/hills/700/1000', title: 'Rolling Hills', description: 'Lush green hills stretching out under a dramatic, cloudy sky.', author: 'Sarah Green', location: 'Tuscany, Italy', date: '2023-05-18' },
                { id: 4, src: 'https://picsum.photos/seed/city/800/800', title: 'City at Night', description: 'An aerial view of a bustling city skyline at night.', author: 'Emily White', location: 'Tokyo, Japan', date: '2023-09-01' },
                { id: 5, src: 'https://picsum.photos/seed/cabin/1000/700', title: 'Cozy Cabin', description: 'A secluded cabin in the woods, nestled by a calm lake.', author: 'Michael Brown', location: 'Ontario, Canada', date: '2023-06-10' },
                { id: 6, src: 'https://picsum.photos/seed/beach/750/750', title: 'Beach Paradise', description: 'Crystal clear water and a pristine white sand beach.', author: 'David Wilson', location: 'Maldives', date: '2023-04-25' },
                { id: 7, src: 'https://picsum.photos/seed/forest/650/850', title: 'Misty Forest', description: 'Sunlight filtering through the trees in a misty, enchanted forest.', author: 'James Harris', location: 'Black Forest, Germany', date: '2023-02-12' },
                { id: 8, src: 'https://picsum.photos/seed/pier/850/650', title: 'Wooden Pier', description: 'A long wooden pier stretching out into a calm, blue lake.', author: 'Olivia Taylor', location: 'Bavaria, Germany', date: '2023-03-30' },
            ];
            
            const galleries = ['cinematic', 'minimalist', 'split', 'immersive', 'card-flip', 'slice-reveal', 'blur-scale'];
            const interactiveGridContainer = document.getElementById('interactive-grid-container');

            imageData.forEach((imgData, index) => {
                const galleryItemHTML = `<div class="gallery-item rounded-lg overflow-hidden" data-index="${index}"><img src="${imgData.src}" alt="${imgData.title}" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/800x800/374151/9ca3af?text=Error';"></div>`;
                const cardFlipItemHTML = `<div class="gallery-item card-flip-item rounded-lg" data-index="${index}"><div class="flip-inner relative w-full h-full"><img src="${imgData.src}" alt="${imgData.title}" class="w-full h-full object-cover rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/800x800/374151/9ca3af?text=Error';"></div></div>`;
                galleries.forEach(galleryId => {
                    const container = document.getElementById(`${galleryId}-gallery`);
                    if (container) { container.insertAdjacentHTML('beforeend', galleryId === 'card-flip' ? cardFlipItemHTML : galleryItemHTML); }
                });
                const interactiveItemHTML = `<div class="interactive-item" data-index="${index}"><img src="${imgData.src}" alt="${imgData.title}" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/800x800/374151/9ca3af?text=Error';"><div class="interactive-caption"><h3 class="text-2xl font-bold mb-2">${imgData.title}</h3><p class="text-sm opacity-90">${imgData.description}</p></div><div class="interactive-close"><svg class="w-6 h-6 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div></div>`;
                if(interactiveGridContainer) { interactiveGridContainer.insertAdjacentHTML('beforeend', interactiveItemHTML); }
            });

            let currentIndex = 0, currentGallery = [], touchStartX = 0;
            const SWIPE_THRESHOLD = 50;
            const handleTouchStart = e => { touchStartX = e.changedTouches[0].screenX; };
            const handleTouchEnd = e => { if (e.target.closest('.lightbox-nav') || e.target.closest('.lightbox-close')) return; const touchEndX = e.changedTouches[0].screenX; if (touchEndX < touchStartX - SWIPE_THRESHOLD) showImage(currentIndex + 1); if (touchEndX > touchStartX + SWIPE_THRESHOLD) showImage(currentIndex - 1); };
            const openLightbox = (backdrop, setupFn) => { document.body.style.overflow = 'hidden'; setupFn(); backdrop.classList.add('active'); window.addEventListener('keydown', handleKeydown); if (backdrop.querySelector('.lightbox-nav')) { backdrop.addEventListener('touchstart', handleTouchStart, { passive: true }); backdrop.addEventListener('touchend', handleTouchEnd, { passive: true }); } };
            const closeLightbox = backdrop => { document.body.style.overflow = ''; backdrop.classList.remove('active'); window.removeEventListener('keydown', handleKeydown); backdrop.removeEventListener('touchstart', handleTouchStart); backdrop.removeEventListener('touchend', handleTouchEnd); if (backdrop.id === 'immersive-backdrop') backdrop.classList.remove('touch-active'); };
            const showImage = index => { currentIndex = (index + currentGallery.length) % currentGallery.length; const activeBackdrop = document.querySelector('.lightbox-backdrop.active'); if (!activeBackdrop) return; const lightboxId = activeBackdrop.id.replace('-backdrop', ''); const setupFn = lightboxRegistry[lightboxId]?.setup; if (setupFn) setupFn(); };
            const handleKeydown = e => { const activeInteractive = document.querySelector('.interactive-item.active'); if (e.key === 'Escape') { const activeLightbox = document.querySelector('.lightbox-backdrop.active'); if (activeLightbox) activeLightbox.querySelector('[id$="-close"]')?.click(); else if (activeInteractive) activeInteractive.querySelector('.interactive-close')?.click(); } else if (e.key === 'ArrowRight' && !activeInteractive) showImage(currentIndex + 1); else if (e.key === 'ArrowLeft' && !activeInteractive) showImage(currentIndex - 1); };

            const lightboxRegistry = {
                'cinematic': { setup: () => {
                    const d = imageData[currentIndex];
                    const content = document.getElementById('cinematic-content');
                    const image = document.getElementById('cinematic-image');
                    const caption = document.getElementById('cinematic-caption');

                    // Fade out the content
                    content.style.opacity = '0';

                    // After fade-out, update everything and animate in
                    setTimeout(() => {
                        // Update image and text
                        image.src = d.src;
                        document.getElementById('cinematic-title').textContent = d.title;
                        document.getElementById('cinematic-description').textContent = d.description;

                        // Reset transforms for re-animation
                        content.style.transform = 'scale(0.95)';
                        caption.style.transform = 'translateY(100%)';

                        // Use a small timeout to allow the browser to apply the reset styles
                        // before starting the animation.
                        setTimeout(() => {
                            content.style.opacity = '1';
                            content.style.transform = 'scale(1)';
                            caption.style.transform = 'translateY(0)';
                        }, 20);
                    }, 300); // This duration should match the opacity transition in the CSS
                } },
                'minimalist': { setup: () => { const d=imageData[currentIndex]; const c=document.getElementById('minimalist-image-container'); const cap=document.getElementById('minimalist-caption'); c.classList.remove('animate-in'); cap.classList.remove('animate-in'); document.getElementById('minimalist-image').src=d.src; document.getElementById('minimalist-title').textContent=d.title; void c.offsetWidth; c.classList.add('animate-in'); cap.classList.add('animate-in'); } },
                'split': { setup: () => { const d=imageData[currentIndex]; document.getElementById('split-image').src=d.src; document.getElementById('split-title').textContent=d.title; document.getElementById('split-description').textContent=d.description; document.getElementById('split-author').textContent=d.author; document.getElementById('split-location').textContent=d.location; document.getElementById('split-date').textContent=d.date; } },
                'immersive': { setup: () => { const d=imageData[currentIndex]; document.getElementById('immersive-image').src=d.src; document.getElementById('immersive-title').textContent=d.title; } },
                'card-flip': { setup: () => {
                    const d = imageData[currentIndex];
                    const c = document.getElementById('card-flip-content');
                    const img = document.getElementById('card-flip-image');
                    c.classList.remove('animate-in');
                    img.style.opacity = 0;
                    setTimeout(() => {
                        img.src = d.src;
                        img.style.opacity = 1;
                        c.classList.add('animate-in');
                    }, 100);
                    document.getElementById('card-flip-title').textContent = d.title;
                } },
                'slice-reveal': { setup: () => {
                    const d = imageData[currentIndex];
                    const c = document.getElementById('slice-reveal-content');
                    c.innerHTML = '';
                    c.classList.remove('animate-in');
                    // Determine direction: left-to-right or right-to-left
                    let direction = 'ltr';
                    if (window.__sliceRevealDirection === 'rtl') direction = 'rtl';
                    // Animate slices in the direction of navigation
                    for (let i = 0; i < 6; i++) {
                        const s = document.createElement('div');
                        s.className = 'slice';
                        s.style.backgroundImage = `url(${d.src})`;
                        s.style.backgroundPosition = `${i * 20}% 50%`;
                        // Animate from left or right
                        if (direction === 'rtl') {
                            s.style.order = 6 - i;
                            s.style.animationDirection = 'reverse';
                        } else {
                            s.style.order = i;
                            s.style.animationDirection = 'normal';
                        }
                        c.appendChild(s);
                    }
                    c.style.display = 'flex';
                    c.style.flexDirection = direction === 'rtl' ? 'row-reverse' : 'row';
                    void c.offsetWidth;
                    c.classList.add('animate-in');
                    document.getElementById('slice-reveal-title').textContent = d.title;
                } },
                'blur-scale': { setup: () => {
                    const d = imageData[currentIndex];
                    const c = document.getElementById('blur-scale-content');
                    c.classList.remove('animate-in');
                    document.getElementById('blur-scale-image').src = d.src;
                    document.getElementById('blur-scale-title').textContent = d.title;
                    document.getElementById('blur-scale-description').textContent = d.description;
                    // Reset caption styles for transition
                    const caption = document.getElementById('blur-scale-caption');
                    caption.style.transform = 'translateY(100%)';
                    caption.style.opacity = '0';
                    void c.offsetWidth;
                    c.classList.add('animate-in');
                    setTimeout(() => {
                        caption.style.transform = 'translateY(0)';
                        caption.style.opacity = '1';
                    }, 10);
                } },
            };

            Object.keys(lightboxRegistry).forEach(id => {
                const gallery = document.getElementById(`${id}-gallery`);
                const backdrop = document.getElementById(`${id}-backdrop`);
                if (gallery && backdrop) {
                    gallery.addEventListener('click', e => { const item = e.target.closest('.gallery-item'); if(item) { currentIndex = parseInt(item.dataset.index); currentGallery = imageData; openLightbox(backdrop, lightboxRegistry[id].setup); } });
                    backdrop.querySelector(`[id$="-close"]`)?.addEventListener('click', () => closeLightbox(backdrop));
                    backdrop.querySelector(`[id$="-prev"]`)?.addEventListener('click', () => {
                        window.__sliceRevealDirection = 'rtl';
                        showImage(currentIndex - 1);
                    });
                    backdrop.querySelector(`[id$="-next"]`)?.addEventListener('click', () => {
                        window.__sliceRevealDirection = 'ltr';
                        showImage(currentIndex + 1);
                    });
                }
            });

            document.getElementById('immersive-backdrop')?.addEventListener('click', e => { if (!e.target.closest('#immersive-ui')) e.currentTarget.classList.toggle('touch-active'); });

                // Event delegation for interactive grid
                interactiveGridContainer.addEventListener('click', function(e) {
                    const item = e.target.closest('.interactive-item');
                    if (!item) return;

                    // If close button is clicked
                    if (e.target.closest('.interactive-close')) {
                        item.classList.remove('active');
                        interactiveGridContainer.classList.remove('active');
                        document.body.style.overflow = '';
                        window.removeEventListener('keydown', escListener);
                        return;
                    }

                    // If another item is already active, ignore
                    if (document.querySelector('.interactive-item.active')) return;

                    // Activate clicked item
                    item.classList.add('active');
                    interactiveGridContainer.classList.add('active');
                    document.body.style.overflow = 'hidden';

                    // Keyboard ESC closes active item
                    function escListener(ev) {
                        if (ev.key === 'Escape') {
                            item.classList.remove('active');
                            interactiveGridContainer.classList.remove('active');
                            document.body.style.overflow = '';
                            window.removeEventListener('keydown', escListener);
                        }
                    }
                    window.addEventListener('keydown', escListener, { once: true });
                });
        });
    </script>
</body>
</html>

